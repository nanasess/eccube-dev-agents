# 実装計画の読み込み

このコマンドは、保存された実装計画を読み込んで、進捗状況を把握します。
コンテキストクリア後の新セッションで実装作業を継続する際に使用します。

## 手順

1. **ファイルの特定**:
   - `$ARGUMENTS` が指定されている場合:
     - `@` 記法に対応（例: `@feature-plan.md` → `feature-plan.md`）
     - ファイル名のみの場合: `.ai-agent/plans/<ファイル名>` を検索
     - 絶対/相対パスの場合: そのまま使用（後方互換性）
   - `$ARGUMENTS` がない場合:
     - `.ai-agent/plans/` ディレクトリから `*-plan.md` パターンで検索
     - 最も新しく更新されたファイルを使用
     - 複数見つかった場合: 最新のファイルを使用し、他のファイルも一覧表示
     - `.ai-agent/plans/` が存在しない、またはファイルが見つからない場合: カレントディレクトリにフォールバック（後方互換性）
     - それでも見つからない場合: エラーメッセージを表示し、`/create-plan` の使用を提案

2. **ファイルの内容を読み込み**:
   - 指定されたファイルを読み込む
   - チェックリスト項目を抽出・解析

3. **進捗状況を要約**:
   - **実装の目的・概要**: ファイルから実装の全体像を把握
   - **総タスク数と完了数**: `- [ ]` と `- [x]` の数をカウント
   - **完了済み項目のリスト**: `- [x]` でマークされた項目
   - **未完了項目のリスト**: `- [ ]` の項目を優先度順に表示
   - **進捗率**: `(完了数 / 総数) × 100%`

4. **作業再開のための推奨アクションを提案**:
   - 次に取り組むべきタスク（最初の未完了項目）
   - 依存関係がある場合はその情報
   - 実装に必要なファイルやリソース

## 引数

`$ARGUMENTS` (オプション) - ファイル名（`@` 記法にも対応、例: `feature-plan.md` または `@feature-plan.md`）

## 使用例

```bash
# ファイル名を指定して読み込み（.ai-agent/plans/ 内を検索）
/load-plan authentication-feature-plan.md
# → .ai-agent/plans/authentication-feature-plan.md を読み込み

# @記法で指定
/load-plan @authentication-feature-plan.md

# ファイル名を省略（自動検索: .ai-agent/plans/ 内の最新ファイル）
/load-plan
```

## 出力例

```
# 実装計画: ユーザー認証機能

## 進捗状況
- 総タスク数: 5
- 完了: 2 (40%)
- 未完了: 3 (60%)

## 完了済み
- [x] ユーザー認証APIの実装
- [x] トークン管理機能の追加

## 未完了（優先度順）
- [ ] テストコードの作成
- [ ] ドキュメントの更新
- [ ] エラーハンドリングの改善

## 次のアクション
次は「テストコードの作成」に取り組むことをお勧めします。
認証APIとトークン管理が完成しているため、これらの機能のテストから始めましょう。
```

## 注意事項

- ファイルが見つからない場合は、わかりやすいエラーメッセージを表示します
- チェックリスト以外の内容（概要、備考など）も読み込んで表示します
- 複数のファイルが見つかった場合は、選択を促します
