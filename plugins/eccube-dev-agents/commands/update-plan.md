# 実装計画の更新

このコマンドは、既存の実装計画ファイルを読み込み、進捗に合わせて更新します。

## 手順

1. **ファイルの特定**:
   - `$ARGUMENTS` が指定されている場合: そのファイルを使用
   - `$ARGUMENTS` がない場合: カレントディレクトリから `*-plan.md` ファイルを検索
     - 複数見つかった場合: 最も新しく更新されたファイルを使用（または一覧を表示してユーザーに選択を促す）
     - 見つからない場合: エラーメッセージを表示し、`/create-plan` の使用を提案

2. **既存のチェックリストを読み込み**:
   - ファイルの内容を読み込む
   - 現在のチェックリスト項目を抽出

3. **会話内容から進捗を判断**:
   - 最近の会話から完了した作業を特定
   - 完了した項目に `[x]` チェックマークを付ける
   - 新しく発見した作業項目を追加
   - 不要になった項目を削除または ~~取り消し線~~ で注釈

4. **更新したチェックリストをファイルに書き込み**:
   - 元のファイル構造を保持しながら更新
   - タイムスタンプや更新履歴を追記（オプション）

5. **更新内容を報告**:
   - 完了した項目数 / 総項目数
   - 新規追加された項目
   - 削除または変更された項目
   - 次に取り組むべき未完了項目

## 引数

`$ARGUMENTS` (オプション) - ファイル名（例: `authentication-feature-plan.md`）

## 使用例

```bash
# ファイル名を指定して更新
/update-plan authentication-feature-plan.md

# ファイル名を省略（自動検索）
/update-plan
```

## 更新の例

### 更新前:
```markdown
## 実装計画

- [ ] ユーザー認証APIの実装
- [ ] トークン管理機能の追加
- [ ] テストコードの作成
```

### 更新後:
```markdown
## 実装計画

- [x] ユーザー認証APIの実装
- [x] トークン管理機能の追加
- [ ] テストコードの作成
- [ ] ドキュメントの更新（新規追加）
```

## 注意事項

- 会話内容から完了判定できない場合は、現状維持します
- 手動で編集した内容は可能な限り保持します
